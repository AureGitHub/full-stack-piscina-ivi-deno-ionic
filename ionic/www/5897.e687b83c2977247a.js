"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5897],{5897:(b,d,n)=>{n.r(d),n.d(d,{OpcionPagePageModule:()=>f});var y=n(6814),m=n(95),c=n(2511),s=n(4258),u=n(3044),g=n(5861),a=n(6689);const h=[{path:"",component:(()=>{var i;class l extends s.BasePage{onLoadDataEmiter(t){}constructor(t,e,o,r){super(t,o),this.myHttpService=t,this.utilService=e,this.seguridadService=o,this.router=r,this.selectedApuesta=null,this.columns=[],this.titleTable="Opciones de ",this.entityInitialValues=null,this.entityName="CartaOpcion"}ngOnDestroy(){}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.Init(),t.titleTable=t.router.snapshot.queryParamMap.get("categoria"),t.cartacategoriaid=+t.router.snapshot.queryParamMap.get("categoriaid"),t.entityInitialValues={cartacategoriaid:t.cartacategoriaid},t.columns=[{name:"Titulo",prop:"tituloPres",type:"text"},{name:"precio",prop:"precio",type:"number"},{name:"",prop:"descripcion",type:"text"},{name:"d",prop:"disponiblePres",type:"action",action:"actionCambiarDisponible",canAction:t.user.isAdmin},{name:"cartacategoriaid",prop:"cartacategoriaid",type:"number",filterInit:` cartacategoriaid = ${t.cartacategoriaid}`,hide:!0},{name:"orden",prop:"orden",type:"number",OrderInit:"ASC",hide:!0}],t.getTableRefresh()})()}toFormData(t){const e=new FormData;for(const o of Object.keys(t))e.append(o,t[o]);return e}actionEmiter(t){var e=this;return(0,g.Z)(function*(){switch(null==t?void 0:t.action){case"actionLista":e.selectedApuesta=t.row;break;case"actionCambiarDisponible":t.row.disponible=!t.row.disponible;const o=e.toFormData(t.row);let r=new s.classHttp("put","CartaOpcion",null,"",o,t.row.id);yield e.myHttpService.ejecuteURL(r),e.getTableRefresh()}})()}}return(i=l).\u0275fac=function(t){return new(t||i)(a.Y36(s.MyHttpService),a.Y36(s.UtilService),a.Y36(s.SeguridadService),a.Y36(u.gz))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-opcion"]],features:[a.qOj],decls:7,vars:9,consts:[[1,"router-outlet"],["color","warning","expand","full",3,"routerLink"],[3,"loadOnInit","entityInitialValues","canAddEntity","canUpdateEntity","title","entityName","columns","refresh","actionEmiter","onLoadDataEmiter"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-grid",0)(1,"ion-row")(2,"ion-button",1),a._uU(3,"Volver"),a.qZA()(),a.TgZ(4,"ion-row")(5,"ion-col")(6,"my-table",2),a.NdJ("actionEmiter",function(r){return e.actionEmiter(r)})("onLoadDataEmiter",function(r){return e.onLoadDataEmiter(r)}),a.qZA()()()()),2&t&&(a.xp6(2),a.Q6J("routerLink","/categoria"),a.xp6(4),a.Q6J("loadOnInit",!1)("entityInitialValues",e.entityInitialValues)("canAddEntity",e.user.isAdmin)("canUpdateEntity",e.user.isAdmin)("title",e.titleTable)("entityName",e.entityName)("columns",e.columns)("refresh",e.tableRefresh))},dependencies:[c.YG,c.wI,c.jY,c.Nd,c.YI,u.rH,s.MyTableComponent]}),l})()}];let f=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[y.ez,m.u5,m.UX,c.Pc,u.Bz.forChild(h),s.SharedComponentsModule]}),l})()}}]);